{"version":3,"sources":["reducer.js","Cell.js","Tictactoe.js","index.js"],"names":["counter","state","action","undefined","count","type","Cell","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","clicked","click","bind","assertThisInitialized","setState","onClick","index","newProps","newState","is_reset","has_winner","console","log","react_default","a","createElement","className","entry","Component","Tictactoe","currentPlayer","cells","Array","winner_combinations","buttonClick","hasWinner","reset","item","ccells","includes","Xs","filter","x","Os","result","length","helper","str","sub","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","c","value","indexOf","err","return","set","X","O","i","push","Xstr","toString","split","join","Ostr","winner","src_Cell","key","Fragment","store","createStore","ReactDOM","render","es","src_Tictactoe","document","getElementById"],"mappings":"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","file":"static/js/main.52f53de6.chunk.js","sourcesContent":["function counter(state, action) {\n  if (state === undefined) return { count: 0 };\n  var count = state.count;\n  switch (action.type) {\n    case \"inc\":\n      return { count: count + 1 };\n    case \"dec\":\n      return { count: count - 1 };\n    default:\n      return state;\n  }\n}\nexport default counter;\n","import React, { Component } from \"react\";\nimport \"./css/tictactoe.css\";\n\nclass Cell extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clicked: false\n    };\n    this.click = this.click.bind(this);\n  }\n  click() {\n    this.setState({\n      clicked: true\n    });\n    //    console.log(this.props.index);\n    this.props.onClick(this.props.index);\n  }\n  shouldComponentUpdate(newProps, newState) {\n    if (this.props.is_reset !== newProps.is_reset) {\n      this.setState({\n        clicked: false\n      });\n      return true;\n    }\n    if (this.state.clicked !== newState.clicked) return true;\n    if (this.props.has_winner !== newProps.has_winner) return true;\n    return false;\n  }\n\n  render() {\n    console.log(\"Rendering: Cell\", this.props.index);\n    return (\n      <button\n        onClick={this.click}\n        className={\n          this.state.clicked === true || this.props.has_winner === true\n            ? \"clicked\"\n            : \"\"\n        }\n      >\n        {this.props.entry}\n      </button>\n    );\n  }\n}\n\nexport default Cell;\n","import React, { Component } from \"react\";\nimport Cell from \"./Cell\";\nimport \"./css/tictactoe.css\";\nclass Tictactoe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPlayer: \"X\",\n      cells: new Array(9),\n      winner_combinations: [\n        \"012\",\n        \"345\",\n        \"678\",\n        \"036\",\n        \"147\",\n        \"258\",\n        \"048\",\n        \"246\"\n      ],\n      is_reset: false\n    };\n    this.buttonClick = this.buttonClick.bind(this);\n    this.hasWinner = this.hasWinner.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  reset() {\n    this.setState({\n      currentPlayer: \"X\",\n      cells: new Array(9),\n      is_reset: !this.state.is_reset\n    });\n  }\n  buttonClick(item) {\n    let ccells = this.state.cells;\n    ccells[item] = this.state.currentPlayer;\n    console.log(ccells);\n    if (!this.hasWinner())\n      if (ccells.includes(undefined))\n        this.setState({\n          currentPlayer: this.state.currentPlayer === \"X\" ? \"O\" : \"X\",\n          cells: ccells\n        });\n      else\n        this.setState({\n          currentPlayer: \"Noone won, click to reset\"\n        });\n    else {\n      this.setState({\n        currentPlayer: this.state.currentPlayer + \" won, click to reset\"\n      });\n    }\n  }\n  hasWinner() {\n    let Xs = this.state.cells.filter(x => x === \"X\");\n    let Os = this.state.cells.filter(x => x === \"O\");\n    let result = false;\n    if (Xs.length > 2 || Os.length > 2) {\n      console.log(\"winner detection running\");\n      const set = {\n        X: [],\n        O: [],\n        undefined: []\n      };\n      for (let i = 0; i < this.state.cells.length; i++) {\n        const tmp = this.state.cells[i];\n        set[tmp].push(i);\n      }\n      let Xstr = set[\"X\"]\n        .toString()\n        .split(\",\")\n        .join(\"\");\n      let Ostr = set[\"O\"]\n        .toString()\n        .split(\",\")\n        .join(\"\");\n      console.log(Xstr, Ostr);\n      let winner = null;\n      for (let i = 0; i < this.state.winner_combinations.length; i++) {\n        const item = this.state.winner_combinations[i];\n        if (helper(Xstr, item)) {\n          winner = \"X\";\n          break;\n        } else if (helper(Ostr, item)) {\n          winner = \"Y\";\n          break;\n        }\n      }\n      console.log(\"winner\", winner);\n      if (winner != null) {\n        result = true;\n      }\n      function helper(str, sub) {\n        let count = 0;\n        for (let c of sub) if (str.indexOf(c) != -1) count++;\n        return count === sub.length;\n      }\n    }\n    return result;\n  }\n  render() {\n    console.log(\"Rendering: Tictactoe\");\n    let result = [];\n    for (let i = 0; i < 9; i++) {\n      result.push(\n        <div className=\"cell\">\n          <Cell\n            onClick={this.buttonClick}\n            entry={this.state.cells[i]}\n            index={i}\n            key={i}\n            has_winner={\n              this.state.currentPlayer.indexOf(\"won\") !== -1 ? true : false\n            }\n            is_reset={this.state.is_reset}\n          />\n        </div>\n      );\n      if ((i + 1) % 3 === 0) result.push(<div className=\"clearfix\" />);\n    }\n\n    return (\n      <>\n        <div className=\"header\">\n          <span onClick={this.reset}>Player: {this.state.currentPlayer}</span>\n        </div>\n        <div className=\"row\">{result}</div>\n      </>\n    );\n  }\n}\n\nexport default Tictactoe;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport counter from \"./reducer\";\nimport Tictactoe from \"./Tictactoe\";\nvar store = createStore(counter);\nReactDOM.render(\n  <>\n    <Provider store={store}>\n      <Tictactoe />\n    </Provider>\n  </>,\n  document.getElementById(\"container\")\n);\n"],"sourceRoot":""}